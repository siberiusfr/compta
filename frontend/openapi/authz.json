{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8082/authz","description":"Generated server url"}],"tags":[{"name":"Permissions","description":"Gestion des permissions et des rôles"},{"name":"Utilisateurs Societe","description":"Gestion des utilisateurs appartenant aux societes clientes"},{"name":"Acces Comptables","description":"Gestion des acces des comptables aux societes clientes"},{"name":"Utilisateurs Cabinet","description":"Gestion des utilisateurs appartenant aux cabinets comptables"},{"name":"Societes Clientes","description":"Gestion des societes clientes"},{"name":"Societes Comptables","description":"Gestion des cabinets comptables"}],"paths":{"/api/user-societes/{id}/role":{"put":{"tags":["Utilisateurs Societe"],"summary":"Modifier le rôle d'un utilisateur","description":"Change le rôle d'un utilisateur dans sa societe","operationId":"updateRole","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"role","in":"query","description":"Nouveau rôle (MANAGER, FINANCE, VIEWER)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Rôle mis a jour","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}},"404":{"description":"Assignation non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}},"400":{"description":"Rôle invalide ou contrainte MANAGER violee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}}},"/api/user-societes/{id}/deactivate":{"put":{"tags":["Utilisateurs Societe"],"summary":"Desactiver une assignation","description":"Desactive l'assignation d'un utilisateur a sa societe","operationId":"deactivate","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Assignation desactivee"},"404":{"description":"Assignation non trouvee"}}}},"/api/user-societe-comptable/{id}/role":{"put":{"tags":["Utilisateurs Cabinet"],"summary":"Modifier le rôle d'un utilisateur","description":"Change le rôle d'un utilisateur dans son cabinet","operationId":"updateRole_1","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"role","in":"query","description":"Nouveau rôle (MANAGER, COMPTABLE, ASSISTANT)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Rôle mis a jour","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}},"404":{"description":"Assignation non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}},"400":{"description":"Rôle invalide ou contrainte MANAGER violee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}}},"/api/user-societe-comptable/{id}/deactivate":{"put":{"tags":["Utilisateurs Cabinet"],"summary":"Desactiver une assignation","description":"Desactive l'assignation d'un utilisateur a son cabinet","operationId":"deactivate_1","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Assignation desactivee"},"404":{"description":"Assignation non trouvee"}}}},"/api/societes/{id}":{"get":{"tags":["Societes Clientes"],"summary":"Recuperer une societe cliente","description":"Recupere les details d'une societe cliente par son ID","operationId":"findById","parameters":[{"name":"id","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Societe trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}},"404":{"description":"Societe non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}}}},"put":{"tags":["Societes Clientes"],"summary":"Modifier une societe cliente","description":"Met a jour les informations d'une societe cliente","operationId":"update","parameters":[{"name":"id","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSocieteRequest"}}},"required":true},"responses":{"200":{"description":"Societe mise a jour","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}},"404":{"description":"Societe non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}}}},"delete":{"tags":["Societes Clientes"],"summary":"Supprimer une societe cliente","description":"Supprime une societe cliente","operationId":"delete","parameters":[{"name":"id","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Societe supprimee"},"404":{"description":"Societe non trouvee"}}}},"/api/societes-comptables/{id}":{"get":{"tags":["Societes Comptables"],"summary":"Recuperer une societe comptable","description":"Recupere les details d'un cabinet comptable par son ID","operationId":"findById_1","parameters":[{"name":"id","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Societe comptable trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}},"404":{"description":"Societe comptable non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}}}},"put":{"tags":["Societes Comptables"],"summary":"Modifier une societe comptable","description":"Met a jour les informations d'un cabinet comptable","operationId":"update_1","parameters":[{"name":"id","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSocieteComptableRequest"}}},"required":true},"responses":{"200":{"description":"Societe comptable mise a jour","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}},"404":{"description":"Societe comptable non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}}}},"delete":{"tags":["Societes Comptables"],"summary":"Supprimer une societe comptable","description":"Supprime un cabinet comptable s'il n'a pas de societes clientes","operationId":"delete_1","parameters":[{"name":"id","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Societe comptable supprimee"},"404":{"description":"Societe comptable non trouvee"},"400":{"description":"Impossible de supprimer: societes clientes existantes"}}}},"/api/permissions/{id}/description":{"put":{"tags":["Permissions"],"summary":"Modifier la description","description":"Met a jour la description d'une permission","operationId":"updateDescription","parameters":[{"name":"id","in":"path","description":"ID de la permission","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string","description":"Nouvelle description"}}},"required":true},"responses":{"200":{"description":"Description mise a jour","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}},"404":{"description":"Permission non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}}}}},"/api/comptable-societes/{id}":{"get":{"tags":["Acces Comptables"],"summary":"Recuperer un acces","description":"Recupere les details d'un acces par son ID","operationId":"findById_2","parameters":[{"name":"id","in":"path","description":"ID de l'acces","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Acces trouve","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}},"404":{"description":"Acces non trouve","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}}}},"put":{"tags":["Acces Comptables"],"summary":"Modifier les droits d'acces","description":"Met a jour les droits d'un comptable sur une societe","operationId":"updateAccess","parameters":[{"name":"id","in":"path","description":"ID de l'acces","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateComptableSocieteAccessRequest"}}},"required":true},"responses":{"200":{"description":"Droits mis a jour","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}},"404":{"description":"Acces non trouve","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}}}}},"/api/user-societes":{"post":{"tags":["Utilisateurs Societe"],"summary":"Assigner un utilisateur a une societe","description":"Assigne un utilisateur a une societe cliente avec un rôle","operationId":"assignUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignUserToSocieteRequest"}}},"required":true},"responses":{"201":{"description":"Utilisateur assigne avec succes","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}},"400":{"description":"Donnees invalides ou utilisateur deja assigne","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}}},"/api/user-societe-comptable":{"post":{"tags":["Utilisateurs Cabinet"],"summary":"Assigner un utilisateur a un cabinet","description":"Assigne un utilisateur a une societe comptable avec un rôle","operationId":"assignUser_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignUserToSocieteComptableRequest"}}},"required":true},"responses":{"201":{"description":"Utilisateur assigne avec succes","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}},"400":{"description":"Donnees invalides ou utilisateur deja assigne","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}}},"/api/societes":{"get":{"tags":["Societes Clientes"],"summary":"Lister toutes les societes clientes","description":"Recupere la liste de toutes les societes clientes","operationId":"findAll","responses":{"200":{"description":"Liste des societes","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}},"post":{"tags":["Societes Clientes"],"summary":"Creer une societe cliente","description":"Cree une nouvelle societe cliente","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSocieteRequest"}}},"required":true},"responses":{"201":{"description":"Societe creee avec succes","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}},"400":{"description":"Donnees invalides ou matricule fiscale deja existant","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}}}}},"/api/societes-comptables":{"get":{"tags":["Societes Comptables"],"summary":"Lister toutes les societes comptables","description":"Recupere la liste de tous les cabinets comptables","operationId":"findAll_1","responses":{"200":{"description":"Liste des societes comptables","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteComptableDto"}}}}}}},"post":{"tags":["Societes Comptables"],"summary":"Creer une societe comptable","description":"Cree un nouveau cabinet comptable","operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSocieteComptableRequest"}}},"required":true},"responses":{"201":{"description":"Societe comptable creee avec succes","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}},"400":{"description":"Donnees invalides ou matricule fiscale deja existant","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}}}}},"/api/permissions":{"get":{"tags":["Permissions"],"summary":"Lister toutes les permissions","description":"Recupere la liste de toutes les permissions","operationId":"findAll_2","responses":{"200":{"description":"Liste des permissions","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermissionDto"}}}}}}},"post":{"tags":["Permissions"],"summary":"Creer une permission","description":"Cree une nouvelle permission granulaire","operationId":"createPermission","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePermissionRequest"}}},"required":true},"responses":{"201":{"description":"Permission creee avec succes","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}},"400":{"description":"Donnees invalides ou code deja existant","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}}}}},"/api/permissions/role-assignment":{"post":{"tags":["Permissions"],"summary":"Assigner une permission a un rôle","description":"Associe une permission a un rôle","operationId":"assignPermissionToRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignPermissionToRoleRequest"}}},"required":true},"responses":{"201":{"description":"Permission assignee avec succes","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RolePermissionDto"}}}},"400":{"description":"Permission deja assignee ou donnees invalides","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RolePermissionDto"}}}}}}},"/api/comptable-societes":{"post":{"tags":["Acces Comptables"],"summary":"Assigner un comptable a une societe","description":"Donne acces a un comptable sur une societe cliente","operationId":"assignComptableToSociete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignComptableToSocieteRequest"}}},"required":true},"responses":{"201":{"description":"Acces cree avec succes","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}},"400":{"description":"Donnees invalides ou acces deja existant","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}}}}},"/api/user-societes/{id}":{"get":{"tags":["Utilisateurs Societe"],"summary":"Recuperer une assignation","description":"Recupere les details d'une assignation par son ID","operationId":"findById_3","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Assignation trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}},"404":{"description":"Assignation non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}},"delete":{"tags":["Utilisateurs Societe"],"summary":"Supprimer une assignation","description":"Supprime definitivement l'assignation d'un utilisateur","operationId":"delete_2","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Assignation supprimee"},"404":{"description":"Assignation non trouvee"}}}},"/api/user-societes/user/{userId}":{"get":{"tags":["Utilisateurs Societe"],"summary":"Recuperer par utilisateur","description":"Recupere l'assignation d'un utilisateur a sa societe","operationId":"findByUserId","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Assignation trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}},"404":{"description":"Aucune assignation trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}}},"/api/user-societes/user/{userId}/societe":{"get":{"tags":["Utilisateurs Societe"],"summary":"Recuperer la societe de l'utilisateur","description":"Recupere la societe a laquelle appartient l'utilisateur","operationId":"findSocieteByUserId","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Societe ou null si aucune","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}}}}},"/api/user-societes/user/{userId}/active":{"get":{"tags":["Utilisateurs Societe"],"summary":"Recuperer l'assignation active","description":"Recupere l'assignation active d'un utilisateur","operationId":"findActiveByUserId","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Assignation active ou null si aucune","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}}},"/api/user-societes/societe/{societeId}":{"get":{"tags":["Utilisateurs Societe"],"summary":"Lister par societe","description":"Recupere tous les utilisateurs d'une societe cliente","operationId":"findBySocieteId","parameters":[{"name":"societeId","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des utilisateurs de la societe","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}}}},"/api/user-societes/societe/{societeId}/manager":{"get":{"tags":["Utilisateurs Societe"],"summary":"Recuperer le manager","description":"Recupere le manager d'une societe cliente","operationId":"findManagerBySocieteId","parameters":[{"name":"societeId","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Manager ou null si aucun","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}}},"/api/user-societes/societe/{societeId}/active":{"get":{"tags":["Utilisateurs Societe"],"summary":"Lister les actifs par societe","description":"Recupere les utilisateurs actifs d'une societe cliente","operationId":"findActiveBySocieteId","parameters":[{"name":"societeId","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des utilisateurs actifs","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserSocietesDto"}}}}}}}},"/api/user-societe-comptable/{id}":{"get":{"tags":["Utilisateurs Cabinet"],"summary":"Recuperer une assignation","description":"Recupere les details d'une assignation par son ID","operationId":"findById_4","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Assignation trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}},"404":{"description":"Assignation non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}},"delete":{"tags":["Utilisateurs Cabinet"],"summary":"Supprimer une assignation","description":"Supprime definitivement l'assignation d'un utilisateur","operationId":"delete_3","parameters":[{"name":"id","in":"path","description":"ID de l'assignation","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Assignation supprimee"},"404":{"description":"Assignation non trouvee"}}}},"/api/user-societe-comptable/user/{userId}":{"get":{"tags":["Utilisateurs Cabinet"],"summary":"Recuperer par utilisateur","description":"Recupere l'assignation d'un utilisateur a son cabinet","operationId":"findByUserId_1","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Assignation trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}},"404":{"description":"Aucune assignation trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}}},"/api/user-societe-comptable/user/{userId}/active":{"get":{"tags":["Utilisateurs Cabinet"],"summary":"Recuperer l'assignation active","description":"Recupere l'assignation active d'un utilisateur","operationId":"findActiveByUserId_1","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Assignation active ou null si aucune","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}}},"/api/user-societe-comptable/cabinet/{societeComptableId}":{"get":{"tags":["Utilisateurs Cabinet"],"summary":"Lister par cabinet","description":"Recupere tous les utilisateurs d'un cabinet comptable","operationId":"findBySocieteComptableId","parameters":[{"name":"societeComptableId","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des utilisateurs du cabinet","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}}}},"/api/user-societe-comptable/cabinet/{societeComptableId}/manager":{"get":{"tags":["Utilisateurs Cabinet"],"summary":"Recuperer le manager","description":"Recupere le manager d'un cabinet comptable","operationId":"findManagerBySocieteComptableId","parameters":[{"name":"societeComptableId","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Manager ou null si aucun","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}}},"/api/user-societe-comptable/cabinet/{societeComptableId}/active":{"get":{"tags":["Utilisateurs Cabinet"],"summary":"Lister les actifs par cabinet","description":"Recupere les utilisateurs actifs d'un cabinet comptable","operationId":"findActiveBySocieteComptableId","parameters":[{"name":"societeComptableId","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des utilisateurs actifs","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserSocieteComptableDto"}}}}}}}},"/api/societes/secteur/{secteur}":{"get":{"tags":["Societes Clientes"],"summary":"Lister par secteur","description":"Recupere les societes clientes d'un secteur d'activite","operationId":"findBySecteur","parameters":[{"name":"secteur","in":"path","description":"Secteur d'activite","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des societes du secteur","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}}},"/api/societes/search":{"get":{"tags":["Societes Clientes"],"summary":"Rechercher des societes clientes","description":"Recherche par raison sociale (recherche partielle)","operationId":"search","parameters":[{"name":"q","in":"query","description":"Terme de recherche","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Resultats de la recherche","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}}},"/api/societes/matricule/{matriculeFiscale}":{"get":{"tags":["Societes Clientes"],"summary":"Recuperer par matricule fiscale","description":"Recupere une societe cliente par son matricule fiscale","operationId":"findByMatriculeFiscale","parameters":[{"name":"matriculeFiscale","in":"path","description":"Matricule fiscale (13 caracteres)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Societe trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}},"404":{"description":"Societe non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteDto"}}}}}}},"/api/societes/cabinet/{societeComptableId}":{"get":{"tags":["Societes Clientes"],"summary":"Lister par cabinet comptable","description":"Recupere les societes gerees par un cabinet comptable","operationId":"findBySocieteComptableId_1","parameters":[{"name":"societeComptableId","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des societes","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}}},"/api/societes/cabinet/{societeComptableId}/active":{"get":{"tags":["Societes Clientes"],"summary":"Lister les actives par cabinet comptable","description":"Recupere les societes actives gerees par un cabinet comptable","operationId":"findActiveBySocieteComptableId_1","parameters":[{"name":"societeComptableId","in":"path","description":"ID de la societe comptable","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des societes actives","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}}},"/api/societes/active":{"get":{"tags":["Societes Clientes"],"summary":"Lister les societes clientes actives","description":"Recupere uniquement les societes clientes actives","operationId":"findAllActive","responses":{"200":{"description":"Liste des societes actives","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}}},"/api/societes-comptables/search":{"get":{"tags":["Societes Comptables"],"summary":"Rechercher des societes comptables","description":"Recherche par raison sociale (recherche partielle)","operationId":"search_1","parameters":[{"name":"q","in":"query","description":"Terme de recherche","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Resultats de la recherche","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteComptableDto"}}}}}}}},"/api/societes-comptables/matricule/{matriculeFiscale}":{"get":{"tags":["Societes Comptables"],"summary":"Recuperer par matricule fiscale","description":"Recupere un cabinet comptable par son matricule fiscale","operationId":"findByMatriculeFiscale_1","parameters":[{"name":"matriculeFiscale","in":"path","description":"Matricule fiscale (13 caracteres)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Societe comptable trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}},"404":{"description":"Societe comptable non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SocieteComptableDto"}}}}}}},"/api/societes-comptables/active":{"get":{"tags":["Societes Comptables"],"summary":"Lister les societes comptables actives","description":"Recupere uniquement les cabinets comptables actifs","operationId":"findAllActive_1","responses":{"200":{"description":"Liste des societes comptables actives","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteComptableDto"}}}}}}}},"/api/permissions/{id}":{"get":{"tags":["Permissions"],"summary":"Recuperer une permission","description":"Recupere une permission par son ID","operationId":"findById_5","parameters":[{"name":"id","in":"path","description":"ID de la permission","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Permission trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}},"404":{"description":"Permission non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}}}},"delete":{"tags":["Permissions"],"summary":"Supprimer une permission","description":"Supprime une permission et ses associations aux rôles","operationId":"deletePermission","parameters":[{"name":"id","in":"path","description":"ID de la permission","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Permission supprimee"},"404":{"description":"Permission non trouvee"}}}},"/api/permissions/roles":{"get":{"tags":["Permissions"],"summary":"Lister les rôles","description":"Recupere la liste des rôles ayant des permissions","operationId":"findDistinctRoles","responses":{"200":{"description":"Liste des rôles","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/permissions/role/{role}":{"get":{"tags":["Permissions"],"summary":"Lister les permissions d'un rôle","description":"Recupere toutes les permissions associees a un rôle","operationId":"findPermissionsByRole","parameters":[{"name":"role","in":"path","description":"Nom du rôle","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des permissions du rôle","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermissionDto"}}}}}}}},"/api/permissions/role/{role}/assignments":{"get":{"tags":["Permissions"],"summary":"Lister les assignations d'un rôle","description":"Recupere les assignations role-permission d'un rôle","operationId":"findRolePermissionsByRole","parameters":[{"name":"role","in":"path","description":"Nom du rôle","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des assignations","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RolePermissionDto"}}}}}}}},"/api/permissions/resources":{"get":{"tags":["Permissions"],"summary":"Lister les ressources","description":"Recupere la liste des ressources distinctes","operationId":"findDistinctResources","responses":{"200":{"description":"Liste des ressources","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/permissions/resource/{resource}":{"get":{"tags":["Permissions"],"summary":"Lister par ressource","description":"Recupere les permissions d'une ressource","operationId":"findByResource","parameters":[{"name":"resource","in":"path","description":"Nom de la ressource","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des permissions de la ressource","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermissionDto"}}}}}}}},"/api/permissions/code/{code}":{"get":{"tags":["Permissions"],"summary":"Recuperer par code","description":"Recupere une permission par son code unique","operationId":"findByCode","parameters":[{"name":"code","in":"path","description":"Code de la permission","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Permission trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}},"404":{"description":"Permission non trouvee","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}}}}}},"/api/permissions/check":{"get":{"tags":["Permissions"],"summary":"Verifier une permission","description":"Verifie si un rôle possede une permission","operationId":"hasPermission","parameters":[{"name":"role","in":"query","description":"Nom du rôle","required":true,"schema":{"type":"string"}},{"name":"permissionCode","in":"query","description":"Code de la permission","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Resultat de la verification","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/permissions/check/resource":{"get":{"tags":["Permissions"],"summary":"Verifier l'acces ressource","description":"Verifie si un rôle a acces a une ressource avec une action","operationId":"hasPermissionOnResource","parameters":[{"name":"role","in":"query","description":"Nom du rôle","required":true,"schema":{"type":"string"}},{"name":"resource","in":"query","description":"Nom de la ressource","required":true,"schema":{"type":"string"}},{"name":"action","in":"query","description":"Nom de l'action","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Resultat de la verification","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/permissions/actions":{"get":{"tags":["Permissions"],"summary":"Lister les actions","description":"Recupere la liste des actions distinctes","operationId":"findDistinctActions","responses":{"200":{"description":"Liste des actions","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/permissions/action/{action}":{"get":{"tags":["Permissions"],"summary":"Lister par action","description":"Recupere les permissions d'une action","operationId":"findByAction","parameters":[{"name":"action","in":"path","description":"Nom de l'action","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Liste des permissions de l'action","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermissionDto"}}}}}}}},"/api/comptable-societes/user/{userId}":{"get":{"tags":["Acces Comptables"],"summary":"Lister les acces d'un utilisateur","description":"Recupere tous les acces d'un comptable","operationId":"findByUserId_2","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des acces","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}}}}}},"/api/comptable-societes/user/{userId}/societes":{"get":{"tags":["Acces Comptables"],"summary":"Lister les societes accessibles","description":"Recupere les societes auxquelles un comptable a acces","operationId":"findSocietesByUserId","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des societes","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}}},"/api/comptable-societes/user/{userId}/societes/write":{"get":{"tags":["Acces Comptables"],"summary":"Lister les societes en ecriture","description":"Recupere les societes où le comptable a le droit d'ecriture","operationId":"findSocietesWithWriteAccessByUserId","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des societes avec droit d'ecriture","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SocieteDto"}}}}}}}},"/api/comptable-societes/user/{userId}/societe/{societeId}":{"get":{"tags":["Acces Comptables"],"summary":"Recuperer l'acces utilisateur-societe","description":"Recupere l'acces d'un utilisateur sur une societe","operationId":"findByUserIdAndSocieteId","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"societeId","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Acces trouve","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}},"404":{"description":"Acces non trouve","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}}}},"delete":{"tags":["Acces Comptables"],"summary":"Revoquer l'acces","description":"Revoque l'acces d'un comptable a une societe","operationId":"revokeAccess","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"societeId","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Acces revoque"},"404":{"description":"Acces non trouve"}}}},"/api/comptable-societes/user/{userId}/active":{"get":{"tags":["Acces Comptables"],"summary":"Lister les acces actifs","description":"Recupere les acces actifs d'un comptable","operationId":"findActiveByUserId_2","parameters":[{"name":"userId","in":"path","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des acces actifs","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}}}}}},"/api/comptable-societes/societe/{societeId}":{"get":{"tags":["Acces Comptables"],"summary":"Lister les comptables d'une societe","description":"Recupere tous les comptables ayant acces a une societe","operationId":"findBySocieteId_1","parameters":[{"name":"societeId","in":"path","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Liste des acces","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ComptableSocietesDto"}}}}}}}},"/api/comptable-societes/check/write":{"get":{"tags":["Acces Comptables"],"summary":"Verifier le droit d'ecriture","description":"Verifie si un comptable a le droit d'ecriture sur une societe","operationId":"hasWriteAccess","parameters":[{"name":"userId","in":"query","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"societeId","in":"query","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Resultat de la verification","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/comptable-societes/check/validate":{"get":{"tags":["Acces Comptables"],"summary":"Verifier le droit de validation","description":"Verifie si un comptable a le droit de validation sur une societe","operationId":"hasValidateAccess","parameters":[{"name":"userId","in":"query","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"societeId","in":"query","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Resultat de la verification","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/comptable-societes/check/access":{"get":{"tags":["Acces Comptables"],"summary":"Verifier l'acces","description":"Verifie si un comptable a acces a une societe","operationId":"hasAccess","parameters":[{"name":"userId","in":"query","description":"ID de l'utilisateur","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"societeId","in":"query","description":"ID de la societe","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Resultat de la verification","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/permissions/role/{role}/permission/{permissionId}":{"delete":{"tags":["Permissions"],"summary":"Revoquer une permission","description":"Revoque une permission d'un rôle","operationId":"revokePermissionFromRole","parameters":[{"name":"role","in":"path","description":"Nom du rôle","required":true,"schema":{"type":"string"}},{"name":"permissionId","in":"path","description":"ID de la permission","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Permission revoquee"},"404":{"description":"Association non trouvee"}}}}},"components":{"schemas":{"UserSocietesDto":{"type":"object","description":"Association utilisateur - societe cliente","properties":{"id":{"type":"integer","format":"int64","description":"Identifiant unique","example":1},"userId":{"type":"integer","format":"int64","description":"ID de l'utilisateur","example":42},"societeId":{"type":"integer","format":"int64","description":"ID de la societe cliente","example":5},"role":{"type":"string","description":"Rôle dans la societe","example":"FINANCE"},"dateDebut":{"type":"string","format":"date","description":"Date de debut d'affectation"},"dateFin":{"type":"string","format":"date","description":"Date de fin d'affectation (null si toujours actif)"},"isActive":{"type":"boolean","description":"Statut actif","example":true},"createdAt":{"type":"string","format":"date-time","description":"Date de creation"}}},"UserSocieteComptableDto":{"type":"object","description":"Association utilisateur - societe comptable","properties":{"id":{"type":"integer","format":"int64","description":"Identifiant unique","example":1},"userId":{"type":"integer","format":"int64","description":"ID de l'utilisateur","example":42},"societeComptableId":{"type":"integer","format":"int64","description":"ID de la societe comptable","example":1},"role":{"type":"string","description":"Rôle dans le cabinet","example":"COMPTABLE"},"dateDebut":{"type":"string","format":"date","description":"Date de debut d'affectation"},"dateFin":{"type":"string","format":"date","description":"Date de fin d'affectation (null si toujours actif)"},"isActive":{"type":"boolean","description":"Statut actif","example":true},"createdAt":{"type":"string","format":"date-time","description":"Date de creation"}}},"UpdateSocieteRequest":{"type":"object","description":"Requête de mise a jour d'une societe cliente","properties":{"raisonSociale":{"type":"string","description":"Raison sociale","example":"Entreprise ABC SARL","maxLength":255,"minLength":0},"codeTva":{"type":"string","description":"Code TVA","example":"TVA987654","maxLength":20,"minLength":0},"codeDouane":{"type":"string","description":"Code douane","example":"DOU123","maxLength":20,"minLength":0},"registreCommerce":{"type":"string","description":"Numero registre commerce","example":"RC123456","maxLength":50,"minLength":0},"formeJuridique":{"type":"string","description":"Forme juridique","example":"SARL","maxLength":100,"minLength":0},"capitalSocial":{"type":"number","description":"Capital social","example":50000.0},"dateCreation":{"type":"string","format":"date","description":"Date de creation de la societe"},"adresse":{"type":"string","description":"Adresse","example":25,"maxLength":255,"minLength":0},"ville":{"type":"string","description":"Ville","example":"Sfax","maxLength":100,"minLength":0},"codePostal":{"type":"string","description":"Code postal","example":3000,"maxLength":10,"minLength":0},"telephone":{"type":"string","description":"Telephone","example":"+216 74 123 456","maxLength":20,"minLength":0},"fax":{"type":"string","description":"Fax","example":"+216 74 123 457","maxLength":20,"minLength":0},"email":{"type":"string","format":"email","description":"Email","example":"contact@entreprise.tn","maxLength":255,"minLength":0},"siteWeb":{"type":"string","description":"Site web","example":"https://www.entreprise.tn","maxLength":255,"minLength":0},"activite":{"type":"string","description":"Activite principale","example":"Commerce de gros","maxLength":255,"minLength":0},"secteur":{"type":"string","description":"Secteur d'activite","example":"Distribution","maxLength":100,"minLength":0},"societeComptableId":{"type":"integer","format":"int64","description":"ID de la societe comptable gerant cette societe"},"isActive":{"type":"boolean","description":"Statut actif","example":true}}},"SocieteDto":{"type":"object","description":"Societe cliente","properties":{"id":{"type":"integer","format":"int64","description":"Identifiant unique","example":1},"raisonSociale":{"type":"string","description":"Raison sociale","example":"Entreprise ABC SARL"},"matriculeFiscale":{"type":"string","description":"Matricule fiscale (13 caracteres)","example":"9876543XYZ000"},"codeTva":{"type":"string","description":"Code TVA","example":"TVA987654"},"codeDouane":{"type":"string","description":"Code douane","example":"DOU123"},"registreCommerce":{"type":"string","description":"Numero registre commerce","example":"RC123456"},"formeJuridique":{"type":"string","description":"Forme juridique","example":"SARL"},"capitalSocial":{"type":"number","description":"Capital social","example":50000.0},"dateCreation":{"type":"string","format":"date","description":"Date de creation de la societe"},"adresse":{"type":"string","description":"Adresse","example":25},"ville":{"type":"string","description":"Ville","example":"Sfax"},"codePostal":{"type":"string","description":"Code postal","example":3000},"telephone":{"type":"string","description":"Telephone","example":"+216 74 123 456"},"fax":{"type":"string","description":"Fax","example":"+216 74 123 457"},"email":{"type":"string","description":"Email","example":"contact@entreprise.tn"},"siteWeb":{"type":"string","description":"Site web","example":"https://www.entreprise.tn"},"activite":{"type":"string","description":"Activite principale","example":"Commerce de gros"},"secteur":{"type":"string","description":"Secteur d'activite","example":"Distribution"},"societeComptableId":{"type":"integer","format":"int64","description":"ID de la societe comptable gerant cette societe"},"isActive":{"type":"boolean","description":"Statut actif","example":true},"createdAt":{"type":"string","format":"date-time","description":"Date de creation"},"updatedAt":{"type":"string","format":"date-time","description":"Date de mise a jour"}}},"UpdateSocieteComptableRequest":{"type":"object","description":"Requête de mise a jour d'une societe comptable","properties":{"raisonSociale":{"type":"string","description":"Raison sociale","example":"Cabinet Expert Comptable SARL","maxLength":255,"minLength":0},"codeTva":{"type":"string","description":"Code TVA","example":"TVA123456","maxLength":20,"minLength":0},"adresse":{"type":"string","description":"Adresse","example":15,"maxLength":255,"minLength":0},"ville":{"type":"string","description":"Ville","example":"Tunis","maxLength":100,"minLength":0},"codePostal":{"type":"string","description":"Code postal","example":1000,"maxLength":10,"minLength":0},"telephone":{"type":"string","description":"Telephone","example":"+216 71 123 456","maxLength":20,"minLength":0},"email":{"type":"string","format":"email","description":"Email","example":"contact@cabinet.tn","maxLength":255,"minLength":0},"siteWeb":{"type":"string","description":"Site web","example":"https://www.cabinet.tn","maxLength":255,"minLength":0},"isActive":{"type":"boolean","description":"Statut actif","example":true}}},"SocieteComptableDto":{"type":"object","description":"Societe comptable (cabinet)","properties":{"id":{"type":"integer","format":"int64","description":"Identifiant unique","example":1},"raisonSociale":{"type":"string","description":"Raison sociale","example":"Cabinet Expert Comptable SARL"},"matriculeFiscale":{"type":"string","description":"Matricule fiscale (13 caracteres)","example":"1234567ABC000"},"codeTva":{"type":"string","description":"Code TVA","example":"TVA123456"},"adresse":{"type":"string","description":"Adresse","example":15},"ville":{"type":"string","description":"Ville","example":"Tunis"},"codePostal":{"type":"string","description":"Code postal","example":1000},"telephone":{"type":"string","description":"Telephone","example":"+216 71 123 456"},"email":{"type":"string","description":"Email","example":"contact@cabinet.tn"},"siteWeb":{"type":"string","description":"Site web","example":"https://www.cabinet.tn"},"isActive":{"type":"boolean","description":"Statut actif","example":true},"createdAt":{"type":"string","format":"date-time","description":"Date de creation"},"updatedAt":{"type":"string","format":"date-time","description":"Date de mise a jour"}}},"PermissionDto":{"type":"object","description":"Permission granulaire","properties":{"id":{"type":"integer","format":"int64","description":"Identifiant unique","example":1},"code":{"type":"string","description":"Code unique de la permission","example":"JOURNAL_ENTRY_CREATE"},"resource":{"type":"string","description":"Ressource concernee","example":"JOURNAL_ENTRY"},"action":{"type":"string","description":"Action autorisee","example":"CREATE"},"description":{"type":"string","description":"Description de la permission","example":"Permet de creer des ecritures comptables"},"createdAt":{"type":"string","format":"date-time","description":"Date de creation"}}},"UpdateComptableSocieteAccessRequest":{"type":"object","description":"Requête de mise a jour des droits d'un comptable sur une societe","properties":{"canRead":{"type":"boolean","description":"Droit de lecture","example":true},"canWrite":{"type":"boolean","description":"Droit d'ecriture","example":true},"canValidate":{"type":"boolean","description":"Droit de validation","example":false},"dateFin":{"type":"string","format":"date","description":"Date de fin d'acces (null si permanent)"},"isActive":{"type":"boolean","description":"Statut actif","example":true}}},"ComptableSocietesDto":{"type":"object","description":"Acces d'un comptable a une societe cliente","properties":{"id":{"type":"integer","format":"int64","description":"Identifiant unique","example":1},"userId":{"type":"integer","format":"int64","description":"ID de l'utilisateur comptable","example":42},"societeId":{"type":"integer","format":"int64","description":"ID de la societe cliente","example":5},"canRead":{"type":"boolean","description":"Droit de lecture","example":true},"canWrite":{"type":"boolean","description":"Droit d'ecriture","example":true},"canValidate":{"type":"boolean","description":"Droit de validation","example":false},"dateDebut":{"type":"string","format":"date","description":"Date de debut d'acces"},"dateFin":{"type":"string","format":"date","description":"Date de fin d'acces (null si permanent)"},"isActive":{"type":"boolean","description":"Statut actif","example":true},"createdAt":{"type":"string","format":"date-time","description":"Date de creation"}}},"AssignUserToSocieteRequest":{"type":"object","description":"Requête d'assignation d'un utilisateur a une societe cliente","properties":{"userId":{"type":"integer","format":"int64","description":"ID de l'utilisateur","example":42},"societeId":{"type":"integer","format":"int64","description":"ID de la societe cliente","example":5},"role":{"type":"string","description":"Rôle dans la societe (MANAGER, FINANCE, VIEWER)","example":"FINANCE","minLength":1},"dateDebut":{"type":"string","format":"date","description":"Date de debut d'affectation (par defaut: aujourd'hui)"},"dateFin":{"type":"string","format":"date","description":"Date de fin d'affectation (null si permanent)"}},"required":["role","societeId","userId"]},"AssignUserToSocieteComptableRequest":{"type":"object","description":"Requête d'assignation d'un utilisateur a une societe comptable","properties":{"userId":{"type":"integer","format":"int64","description":"ID de l'utilisateur","example":42},"societeComptableId":{"type":"integer","format":"int64","description":"ID de la societe comptable","example":1},"role":{"type":"string","description":"Rôle dans le cabinet (MANAGER, COMPTABLE, ASSISTANT)","example":"COMPTABLE","minLength":1},"dateDebut":{"type":"string","format":"date","description":"Date de debut d'affectation (par defaut: aujourd'hui)"},"dateFin":{"type":"string","format":"date","description":"Date de fin d'affectation (null si permanent)"}},"required":["role","societeComptableId","userId"]},"CreateSocieteRequest":{"type":"object","description":"Requête de creation d'une societe cliente","properties":{"raisonSociale":{"type":"string","description":"Raison sociale","example":"Entreprise ABC SARL","maxLength":255,"minLength":0},"matriculeFiscale":{"type":"string","description":"Matricule fiscale (13 caracteres)","example":"9876543XYZ000","maxLength":13,"minLength":13},"codeTva":{"type":"string","description":"Code TVA","example":"TVA987654","maxLength":20,"minLength":0},"codeDouane":{"type":"string","description":"Code douane","example":"DOU123","maxLength":20,"minLength":0},"registreCommerce":{"type":"string","description":"Numero registre commerce","example":"RC123456","maxLength":50,"minLength":0},"formeJuridique":{"type":"string","description":"Forme juridique","example":"SARL","maxLength":100,"minLength":0},"capitalSocial":{"type":"number","description":"Capital social","example":50000.0},"dateCreation":{"type":"string","format":"date","description":"Date de creation de la societe"},"adresse":{"type":"string","description":"Adresse","example":25,"maxLength":255,"minLength":0},"ville":{"type":"string","description":"Ville","example":"Sfax","maxLength":100,"minLength":0},"codePostal":{"type":"string","description":"Code postal","example":3000,"maxLength":10,"minLength":0},"telephone":{"type":"string","description":"Telephone","example":"+216 74 123 456","maxLength":20,"minLength":0},"fax":{"type":"string","description":"Fax","example":"+216 74 123 457","maxLength":20,"minLength":0},"email":{"type":"string","format":"email","description":"Email","example":"contact@entreprise.tn","maxLength":255,"minLength":0},"siteWeb":{"type":"string","description":"Site web","example":"https://www.entreprise.tn","maxLength":255,"minLength":0},"activite":{"type":"string","description":"Activite principale","example":"Commerce de gros","maxLength":255,"minLength":0},"secteur":{"type":"string","description":"Secteur d'activite","example":"Distribution","maxLength":100,"minLength":0},"societeComptableId":{"type":"integer","format":"int64","description":"ID de la societe comptable gerant cette societe"}},"required":["matriculeFiscale","raisonSociale"]},"CreateSocieteComptableRequest":{"type":"object","description":"Requête de creation d'une societe comptable","properties":{"raisonSociale":{"type":"string","description":"Raison sociale","example":"Cabinet Expert Comptable SARL","maxLength":255,"minLength":0},"matriculeFiscale":{"type":"string","description":"Matricule fiscale (13 caracteres)","example":"1234567ABC000","maxLength":13,"minLength":13},"codeTva":{"type":"string","description":"Code TVA","example":"TVA123456","maxLength":20,"minLength":0},"adresse":{"type":"string","description":"Adresse","example":15,"maxLength":255,"minLength":0},"ville":{"type":"string","description":"Ville","example":"Tunis","maxLength":100,"minLength":0},"codePostal":{"type":"string","description":"Code postal","example":1000,"maxLength":10,"minLength":0},"telephone":{"type":"string","description":"Telephone","example":"+216 71 123 456","maxLength":20,"minLength":0},"email":{"type":"string","format":"email","description":"Email","example":"contact@cabinet.tn","maxLength":255,"minLength":0},"siteWeb":{"type":"string","description":"Site web","example":"https://www.cabinet.tn","maxLength":255,"minLength":0}},"required":["matriculeFiscale","raisonSociale"]},"CreatePermissionRequest":{"type":"object","description":"Requête de creation d'une permission","properties":{"code":{"type":"string","description":"Code unique de la permission","example":"JOURNAL_ENTRY_CREATE","maxLength":100,"minLength":0},"resource":{"type":"string","description":"Ressource concernee","example":"JOURNAL_ENTRY","maxLength":50,"minLength":0},"action":{"type":"string","description":"Action autorisee","example":"CREATE","maxLength":50,"minLength":0},"description":{"type":"string","description":"Description de la permission","example":"Permet de creer des ecritures comptables"}},"required":["action","code","resource"]},"AssignPermissionToRoleRequest":{"type":"object","description":"Requête d'assignation d'une permission a un rôle","properties":{"role":{"type":"string","description":"Nom du rôle","example":"COMPTABLE","minLength":1},"permissionId":{"type":"integer","format":"int64","description":"ID de la permission","example":5}},"required":["permissionId","role"]},"RolePermissionDto":{"type":"object","description":"Association rôle - permission","properties":{"id":{"type":"integer","format":"int64","description":"Identifiant unique","example":1},"role":{"type":"string","description":"Nom du rôle","example":"COMPTABLE"},"permissionId":{"type":"integer","format":"int64","description":"ID de la permission","example":5},"createdAt":{"type":"string","format":"date-time","description":"Date de creation"}}},"AssignComptableToSocieteRequest":{"type":"object","description":"Requête d'assignation d'un comptable a une societe cliente","properties":{"userId":{"type":"integer","format":"int64","description":"ID de l'utilisateur comptable","example":42},"societeId":{"type":"integer","format":"int64","description":"ID de la societe cliente","example":5},"canRead":{"type":"boolean","description":"Droit de lecture","example":true},"canWrite":{"type":"boolean","description":"Droit d'ecriture","example":true},"canValidate":{"type":"boolean","description":"Droit de validation","example":false},"dateDebut":{"type":"string","format":"date","description":"Date de debut d'acces (par defaut: aujourd'hui)"},"dateFin":{"type":"string","format":"date","description":"Date de fin d'acces (null si permanent)"}},"required":["societeId","userId"]}}}}