spring:
  application:
    name: compta

  # La configuration de la datasource est gérée automatiquement par @ServiceConnection
  # Spring Boot détecte le conteneur Testcontainers et configure automatiquement:
  # - spring.datasource.url
  # - spring.datasource.username
  # - spring.datasource.password
  # - spring.datasource.driver-class-name

  # Flyway - activé pour les tests d'intégration (contrairement aux tests unitaires)
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

  # JOOQ
  jooq:
    sql-dialect: POSTGRES

# Logging pour debug (optionnel)
logging:
  level:
    org.flywaydb: INFO
    org.testcontainers: INFO
